import gensim
import gensim.corpora as corpora
from nltk.corpus import stopwords
from nltk.tokenize import word_tokenize
from gensim.models.ldamodel import LdaModel
import nltk
import string
import re

# Ensure you have the NLTK stopwords downloaded
nltk.download('stopwords')
nltk.download('punkt')

# Polish stopwords
stop_words = set(stopwords.words('polish'))

# Function to preprocess text
def preprocess(text):
    # Tokenize the text and remove punctuation
    text = re.sub(r'\s+', ' ', text)
    text = text.translate(str.maketrans('', '', string.punctuation))
    tokens = word_tokenize(text.lower())
    # Remove stopwords
    tokens = [word for word in tokens if word not in stop_words]
    return tokens

video_transcription = 'Dzień dobry, witam Państwa bardzo serdecznie w kolejnym odcinku. Jesteśmy właśnie w przedmomencie wyjazdu z domu. Mamy pewien koncept. Tutaj też można zobaczyć. Tak, można używać to dla drzwi. Żeby zamknąć drzwi. Tak, właściwie tak. Więc możemy to zrobić. Co ją wzięło na te kury? Nie wiem. Nie ma problemu. Jestem doświadczonym hodowcą kur. Z wielką przyjemnością się zaangażuję w ten projekt. Ponownie. Kurnikowo za domkiem i kurki. Tutaj może nam sąsiedzi już nie będą ich kradli. Bo będą te kury odgrodzone od ulicy. Tam już nie jest tak łatwo się dostać. Także myślę, że ten koncept może być całkiem słuszny. Być może wtedy zjadłby jakiś pożytek. Bo ja tamtych nawet nie wykorzystywałem. A Asia, czemu całkiem nie? Natomiast tutaj nasz sąsiad, Freddy, zrobi takie na wjeździe do nas. Zobaczcie. Ona jak słonecznik chyba. I on tutaj postawiał te worki z ziemią. I obsadza. I tak. I obsadza. I chyba będą rosły sobie. Mam nadzieję, że będą rosły. No dobrze. To my jedziemy właśnie w związku z projektem Kurnikowo 2.0. Wybraliśmy się z Asią na poszukiwanie inspiracji. Tak naprawdę prążymy sobie, patrzymy. I tu nam spadnie do głowy. No i między innymi, żeśmy... Przyszliśmy na taki budynek. Nie tyle tylko od nas, za nami. Wygląda, szczególnie tam na górze, jak się przyjrzeć. Chyba na jakąś restaurację. Nie wykluczone. Przynajmniej na górze będzie restauracja, a na dole nie wiem. Ale taki ciekawy budynek tu powstaje. No dobra, ja zawracam. Jedziemy. Jak znajdziemy coś na budowę Kurnika, to też będziemy kupowali to. Zmieniona jest koncepcja. Nauczony doświadczeniem z Kurnikowa 1.0. O, jaki kot, baby. Nauczony... Nauczony... Nauczony... tak. Pewnymi doświadczeniami, koncept będzie zupełnie inny. Zgoła odmienne, jeśli chodzi o Kurnik. Tym razem. Takżeśmy kręcili, że dojechaliśmy na Psa Lu. Ale nieprzypadkowo. Bo tu... Sprzedają, między innymi... Biedne, wykudzone takie, że w styropię wcinają. Pewnie nie przysłuży się im. Ale takie jakieś... Smutne, biedne są. Dobra, idziemy na razie miejsca kupić. Furczaka. Znaliśmy jeszcze inną panią, która sprzedaje. Cztery dolki za kilo. Są różne. Ta jest śmieszna. Tak, my nie mamy rury. To jest rury? Tak. To jest. To jest. Musimy kurkę i kod buta mieć. Ale nie mamy jeszcze danik w domku. Także to byłoby... Jakbyśmy zdosłali na ten rurkę, trzeba by w trybie natychmiastowym coś wymyśleć. W sumie mamy wymyślony. W końcu jak już powiem wam. Ok, najpierw idziemy może na ten rurkę. Mówi, ale chodźmy najpierw kupimy kurczaka do jedzenia. Asia znalazła mrówki. I właśnie kupuje. A co chcesz zrobić, a nie chcesz? Z prahopem. Aha. Czyli nie ma jeszcze takiego konkretnego konceptu, ale może z prahopem, czyli fermentowanymi rysami sobie zjedziesz. Co kto lubi. Teraz kolejna krewetki. Kupiliśmy też kurczaka i tam mrówki właśnie. Czyli robimy sobie zakupy. Nie, no nie będziemy kurki brali jeszcze tych żywych. Trzeba im nomek zrobić. Właściwą kolejność należy zachować. I spokój, rozwagę. A tym samym kupiła jednocześnie prahop. Czyli to o czym mówiliśmy. Prachop, czyli to o czym mówiliśmy. Fermentowane ryby. I z nimi będzie jadła z mrówki. Które tam żeśmy też kupi. Takie zakupy do domu. Wyczaiłem inne owoce, które są podobno kwaśno-gorzkie. Can I... Kartki? Nie chodź do piw. Teraz mi mówi. Nie dobre. Fuj. Pierzemy bardziej tradycyjne owoce. Ale pierwszy raz widzę tutaj w Kambożek gruszka. Jako taka. Bo są takie gruszki, takie... Tak jakby mix gruszka z jabłkiem. Ale jak takiego to to jest. O, tu pokażę może. Bez problemu są dostępne. Ale gruszki, gruszki. Nie widziałem. 15-16 zł za kilogram. Weźmiemy sobie. IBC. Żeby nie było. Jakiś drobiazg może. Parniwoko. Może. A może nie. Jesteśmy już w domku. Co ta asica tutaj zrobiła? Co oni mają z tym ścinań drzew? Jak Boga kocham. No upitoliła pół drzewa. Akurat w tym wypadku to chyba nie było najgorsze rozwiązanie. W sensie takim, że troszeczkę się przyjaśniło. Tutaj można będzie swobodnie tędy przejść później. Jak się to zabierze, usunie oczywiście. No nie wiem, nie wiem. Osobiście mi się niezbyt podoba takie wycinanie. Wycinki. Cześć koteczku. Dziś malutka. Dziś kochana. Cześć. Co to tam o taki hałas? Co to tam stuka? Hmm? Chodź do domu. W polskiej szkole dzieci ładnie śpiewają, ale właśnie jak było pusto, było słychać śpiew dzieci, to było pusto. Jak wyłączyłem kamerę, to od razu ruch się zrobił uliczno. Uczą się tam dzieciaki. A ja idę do tego sklepu tutaj obok meblarskiego. Do Ikei tutaj. Który jest miał podal naszego domu. Idę, a nie jadę. No bo chcę kupić właśnie coś tam i będzie mi dużo łatwiej przetransportować. To po prostu idąc. Bez motorów. Także za chwileczkę będę w sklepie i będę wyjaśniał a po cóż tam. Już jestem w Ikei. Sousdei. Sousdei bon. Potrzebuję coś takiego, tylko większego. To jest za małe. Zaraz się będę dopytywał czy jest. Kazało się, że pan ma tylko ten rozmiar. Większych rozmiarów już nie ma. Ja potrzebuję większego. Dlaczego potrzebuję większego rozmiaru? Dlatego, że będziemy robić kurwik z tego. Tak, tak wiem. W pierwszej chwili może wydawać się niedorzeczne, ale wbrew pozorom to jako konstrukcja bazowa nada się doskonale. Tylko nie to konkretne, bo jest za małe, tylko wykorzystam ten, który mamy już na buty w domu. A zamiast tamtego wstawię 2T. Zresztą zeskamy na miejscu. Aśa nie powinna być... A, tak, ok. Perfekty. Wszystkie są identyczne. Wybierzemy po prostu... Te dwa pójdą na buty, a tamten jeden zabiorę na kurnik. I takie rozwiązanie powinno się sprawdzić. No dobra, to teraz oglądamy, które nam najbardziej pasują. Najważniejsze są nogi, żeby jak najmniej się bujały. Ten się nie buja, ten się buja, ten się buja. Czyli jeden się nie buja, to już jest ok, to już ten... ten mamy najlepszy, ten się buja bardzo, ten się buja bardzo i ten się buja bardzo. To chyba weźmiemy ten i i tarra. Biorę, płacę i wracam na haweł. To jedna z zagadek po prostu nie do rozwiązania. Była jedna półka, są dwie. Te są troszeńkę mniejsze, nie jest to wielka różnica, ale są troszkę mniejsze niż ta. No ale w sumarum te dwie są znacznie większe niż ta jedna, a mimo wszystko ciągle jakby za mało miejsca na buty jest. Z jednej przełożone na dwie i ciągle mało miejsca. Po co chodzi? Jak zawsze nie ma miejsca na moje buty. Bo tutaj jedą kaski. No tu mogę sobie wstawić. Yes, I have my space. Ta-da. Od razu wrzucę sobie te czerwone. O, też tam. No. A teraz można żyć. Żyć nie umierać. Kochanie. A tu, no właśnie, a ten koncept przewiduje, przepraszam bardzo. Ten koncept przewiduje przerobienie tej konstrukcji na kurnik. I to wbrew pozorom ma rację bytu. Odpowiednie wysłonięte, złożone, ze zrobionymi wejściami. Tak naprawdę mamy gotowe grzędy z przestrzenią w dół. Czyli, że się tak wyrażą, kubka sobie spada w dół, tam gdzie spada. Jak tam gdzie nie spada, to oczywiście to nadal trzeba będzie czyścić. Ale to sobie jest takie przelotowe. Ażurowe, ale dość złabe stabilne. No, to się tu kiwa teraz, prawda, ale to się tam ustabilizuje. I to będzie, to będzie, to będzie, to się może udać. Po prostu, to się może udać. W tym miejscu, to się spokojnie, dwie sobie siedzą. Dwie. To jest, to jest nie głupia koncepcja wam mówię. Ja teraz pomogę przedstawić. Przyjechał Adam do mnie, sobie siedzimy tutaj tak chwileczkę jeszcze zanim pojedziemy do ristorante. A ja chciałbym wam pokazać coś śmiesznego. Ślimak. Taka widzicie dziura była, o tak, nie wiem gdzie tu, o tak, tego typu dziura. O tam też jakiś ślimor siedzi, ale mały. Ten, prawda, wszedł sobie tam cały. A ten, no niestety, mu chata mu nie wlazła w tą dziurę i utknął. I co teraz ślimor? I co teraz? Tak ciekawie mówisz dzisiaj, że, że postanowiłem... Witam wszystkich serdecznie, jestem u Marcina. Miło mnie tu goszczą z jego partnerką. Dziewczyna, ja nie lubię słowa partnerka, tak między innymi mówiąc. Jest wspaniale, bardzo ładnie mieszkacie, bardzo fajna okolica. Ojej, nie ma jej. Tak, podobno bardzo grzeczna byłaś, tak? Tylko raz zeskoczyłaś z motoru. I nie wskoczyłaś. Na tej trasie. Nieładnie się zachowujesz, Leila, tyle ci powiem. Dobrze, to my zaraz jedziemy do restauracji, bo trzeba zrobić rozliczenie. Jedziemy do Adamas, zaraz się z Adamem, jest jedno kolejno tam na przodzie. Przedzie. Adam zostawi pieska i będziemy jechać do restauracji. Ja muszę podjechać po dżunku tylko. I później jedziemy do restauracji, trzeba zrobić rozliczenie dzisiaj, tak jak mówiłem. No i popłacić wszystko. Będzie, bolało. Paszek klinowy, trochę panu piszczy, proszę pana. Jestem już w podżunku. I zapomniałem o najważniejszym. O kasku. Lipa. Tablet jest. Tablet jest. Ale nie ma kasku. Straszna lipa. Zobaczcie. Panie, ten pasek to strasznie przeszkadza w nagrywaniu. Wracamy już do domu. Posiedzieliśmy chwilkę. Tak naprawdę nie udało się rozliczyć dzisiaj restauracji. Poczekaj, kochanie, poczekaj. Ponieważ, no, mieliśmy gości, po prostu. Mieliśmy gości i nie mogliśmy sobie pozwolić na to, żeby dziewczyny usiadły z nami, żeby zrobić to rozliczenie. Jutro przyjadę wcześniej. Tak jak z gości raczej na pewno nie będzie. I nie potrafimy to. Więc wracamy do domu. Na razie. My już w domku. A tutaj proszę bardzo. Marynowana włowina, świeża, surowa. Zestaw warzyw, różnorakich tam w środku. A tutaj szykują się mrowy. I to ma być miks. Sałatka z mrowkami. Jak zresztą widzicie, one już są tutaj na połowinie. Ja się mieszam. W tej chwili to nasze warzywa. Tu jest i kukurydza, i papryka, i cebula. Jakieś zioła. Jest szczypiory. Nie wiem dokładnie. No i te mrowki. No ciekawe. Myślę, że Jun nie będzie zbyt zachwycona jedzeniem tego. Ale ja jestem jak najbardziej za. Tu jest nasz groszek. To dla piek, który nie lubi umrówek. To jest znowuż kolejna potawa dzisiaj, którą robi Asia. Z mrowkami, zmieszane z fermentowane ryby. Czyli prachok. I do tego mnóstwo chili. Mnóstwo chili. Tak jak widzicie. No i to jest potrawa, której ja już nie dam rady. To już jest dla mnie za dużo. Ale na niej mmmm jami. To się jest z warzywami. Ogórek, takie są wytrawne, gorzkie warzywa. Sałatą, z kapustą. Co tam się tam nawinie. Po prostu się nawiera je jak sos. Nazywa się takiego sosu. Hmm. Zapach taki trochę intensywny. Soy. Dziewczyny mają pyszną wołowinę z zieloną fasolką i ryżem. Wspaniałą sałatkę z surową wołowiną. Ale też trochę z mrowkami. A to jest potrawa, którą sobie przygotowała właśnie Asia. Już zmieszany prachok. I jest też zieloną fasolką. No właśnie, to się jedziesz. Między innymi właśnie z czyli. Jakby było jeszcze mało jej tutaj, to się po prostu je w ten sposób. Pyk, nakłada i zjada. No i siadamy do stołu i będziemy jedli. Smaćnego. Szykuję kąpiel dla dziewczyn już przed spaniem. Także będziemy, mam nadzieję, niedługo kładli je spać. Bo to byłoby very, very cool. To mi się przydał. Przydam się szczerze, że dzisiejszy dzień dał mi trochę w kość. Z wielu powodów. Z różnych powodów. Jakby to nie koniecznie z racji tego, co Państwo widzieliście na filmie. Ale tak po prostu już tak czuję, że fajnie było po życie spać. Aczkolwiek nie wykluczam, że właśnie dzisiaj może zrobię live jeszcze na tak ostatni dzień miesiąca, koniec lipca, początek sierpnia. Może byłoby tak fajnie chwileczkę sobie z Wami pogadać. Także nie wykluczam, że w zależności od tego jak Juniusz, to jest jakby kluczowe dla tej całej sytuacji. Jak widzicie, ja już, ja wyciągnąłem nogi po prostu. Ja wyciągnąłem nogi, leżę już sobie na łożu i czekam, aż się woda napuści. To jest taki dobry moment do tego, żeby nic innego nie robić po prostu. Jestem zajęty, bo czekam, aż się naleję woda do wanny. Błogość. Nie ustawaj. Świruję tutaj z gumką. Taką gumkę tu mam różową i świrki tutaj robię. Tą świrkę. Z góplą. I co? Nie pobiegnie? Zobacz jak to kusi, zobacz. Ty jesteś małpa, a nie kot. Tyle ci powiem. To już ostatnie ujęcia z dzisiaj. Jeszcze ugotuję kukurydzę dla dziewczyn na śniadanie po konusku i do zabrania do szkoły. Tak, jutro się tylko odgrzeję szybciutko i będzie w gotowości. Mam świetnego też kurczaka jeszcze do usmażenia jutro. Jest ryż zrobiony. Także lanchowo też jest tam już ustawione. Jeszcze tylko wyjmę parówki i surimi na śniadanie. To będzie tyle. Także będziemy gotowi. Zrób się, zaczyna ładnie gotować. Dobrze. Włóki do łóki dziewczynki wykąpane. Ostatnie chwile sobie tam przed ekranami jeszcze spędzają. Za dosłownie parę minut na górę usypiamko. I niech śpią do samego rana. Słodko. A to już słodkie ujęcie. Dzień dobry. Dobranoc. Dobranoc. To już zupełnie końcowe ujęcie dzisiejszego odcinka. Będziemy próbowali zasnąć. To znaczy zrobić tak, żeby Judy zasnęła. A ja w później zjedę do siebie oczywiście. Tak jak mówiłem, nie wykluczam jeszcze dzisiaj szybkiego live'a na koniec miesiąca. Kochani, no dobrze, ale to tak. To już jesteśmy tutaj. Malutka już tu. A obok. W takim enturażu bajkowym raczej. No i będziemy kończyli ten odcinek. Bardzo wam dziękujemy za obejrzenie jego. Zapraszamy oczywiście na jutro, siódma rano czasu polskiego na kolejny epizod. Dzisiaj życzymy wam wspaniałego dnia. Przypominam się o ewentualnych łapkach w górę, czyli lajkach, polubieniach, jeśli wam się podobał ten odcinek. Jeżeli nie subskrybujecie jeszcze kanału, a chcielibyście dostawać powiadomienia, to taki dzwoneczek dodatkowo jeszcze trzeba przycisnąć, ale generalnie jak zjdziecie i subskrybujecie kanał, to YouTube raczej przypomina o kolejnych odcinkach, które się pojawiają. No to tyle. Aha, taki wysiłek sobie zadacie, że jeszcze skomentujecie coś jeszcze kapitalnej. Bardzo, bardzo wam za to dziękuję. Miłego dnia, wspaniałego wieczoru i do zobaczyska jutro. Trzymajcie się. Hej, cześć. Dzień dobry.'
video_id = 'cpSm19vqAB0'
# Preprocess the transcriptions
processed_transcriptions = []

processed_transcriptions.append()

# Create a dictionary and corpus for LDA
texts = [transcription for _, transcription in processed_transcriptions]
id2word = corpora.Dictionary(texts)
corpus = [id2word.doc2bow(text) for text in texts]

# Train the LDA model
lda_model = LdaModel(corpus=corpus, id2word=id2word, num_topics=5, random_state=100, update_every=1, chunksize=10, passes=10, alpha='auto', per_word_topics=True)

# Function to get the dominant topic
def get_dominant_topic(lda_model, bow):
    topics = lda_model.get_document_topics(bow)
    dominant_topic = sorted(topics, key=lambda x: x[1], reverse=True)[0]
    return dominant_topic

# Detect topics and prepare data to insert
detected_topics = [(video_id, get_dominant_topic(lda_model, corpus[i])[0]) for i, (video_id, _) in enumerate(processed_transcriptions)]

#

# Initialize the summarization pipeline
summarizer = pipeline("summarization")

# List to store summaries
summaries = []

summary = summarizer(video_transcription, max_length=150, min_length=30, do_sample=False)

print(summary)